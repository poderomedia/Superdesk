define(function(){	str = function(str){		this.init(str);	}	str.format = function(str) {		var arg = arguments, idx = 1;		if (arg.length == 2 && typeof arg[1] == 'object')			arg = arg[1];		return str.replace(/%?%(?:\(([^\)]+)\))?([disr])/g, function(all, name, type) {		  if (all[0] == all[1]) return all.substring(1);		  var value = arg[name || idx++];		  if(typeof value === 'undefined') {			return all;		  }		  return (type == 'i' || type == 'd') ? +value : value; 		});	};	str.prototype = {		init: function(str) {			this.str = str;		},			format: function() {			return str.format(this.str);		},		toString: function() {			return this.str;		}	};	return str;});